<%= form_with model: @form, url: invoice_processes_path(@form.invoice, step: @step), method: :patch do |f| %>


  <div class="container mt-4">
    <!-- Breadcrumb Navigation -->
    <a href="#" class="text-muted">← Back to overview</a>

    <!-- Progress Steps -->
    <h3 class="mt-3">Process Invoice</h3>


    <div class="row">
      <!-- PDF Preview Section -->
      <div class="col-lg-6">
        <div class="pdf-preview-container text-center p-3 bg-light">
          <iframe src="<%= url_for(@invoice.pdf) %>" class="pdf-preview"></iframe>
        </div>
      </div>

      <!-- Invoice Details Form -->
      <div class="col-lg-6">
        <div class="alert alert-info">
          <strong>Add additional invoice details</strong>
          <p>Please enter all required invoice information.</p>
        </div>

        <%= form_with model: @invoice, url: invoice_path(@invoice), method: :patch do |f| %>
          <div class="mb-3">
            <%= f.label :country, "Country", class: "form-label" %>
            <%= f.select :country, ["Germany", "France", "USA"], {}, class: "form-select" %>
          </div>

          <div class="mb-3">
            <%= f.label :vat_id, "VAT ID or Tax Number", class: "form-label" %>
            <%= f.text_field :vat_id, class: "form-control" %>
          </div>

          <div class="mb-3">
            <%= f.label :company_name, "Company Name", class: "form-label" %>
            <%= f.text_field :company_name, class: "form-control" %>
          </div>

          <div class="mb-3">
            <%= f.label :invoice_date, "Invoice Date", class: "form-label" %>
            <%= f.date_field :invoice_date, class: "form-control" %>
          </div>

          <div class="mb-3">
            <%= f.label :invoice_number, "Invoice Number", class: "form-label" %>
            <%= f.text_field :invoice_number, class: "form-control" %>
          </div>

          <div class="row mb-3">
            <div class="col">
              <%= f.label :street, "Street Name", class: "form-label" %>
              <%= f.text_field :street, class: "form-control" %>
            </div>
            <div class="col">
              <%= f.label :street_number, "Street Number", class: "form-label" %>
              <%= f.text_field :street_number, class: "form-control" %>
            </div>
          </div>

          <div class="row mb-3">
            <div class="col">
              <%= f.label :postal_code, "Postal Code", class: "form-label" %>
              <%= f.text_field :postal_code, class: "form-control" %>
            </div>
            <div class="col">
              <%= f.label :city, "City", class: "form-label" %>
              <%= f.text_field :city, class: "form-control" %>
            </div>
          </div>

          <div class="form-check mb-3">
            <%= f.check_box :invoice_has_word_invoice, class: "form-check-input" %>
            <%= f.label :invoice_has_word_invoice, "The invoice has the word 'Invoice' on it", class: "form-check-label" %>
          </div>

          <h5>Line Item 1</h5>

          <div class="mb-3">
            <%= f.label :traveler_name, "Name of Traveler", class: "form-label" %>
            <%= f.text_field :traveler_name, class: "form-control" %>
          </div>

          <div class="row mb-3">
            <div class="col">
              <%= f.label :start_date, "Start Date", class: "form-label" %>
              <%= f.date_field :start_date, class: "form-control" %>
            </div>
            <div class="col">
              <%= f.label :end_date, "End Date", class: "form-label" %>
              <%= f.date_field :end_date, class: "form-control" %>
            </div>
          </div>

          <div class="mb-3">
            <%= f.label :description, "Description", class: "form-label" %>
            <%= f.text_area :description, class: "form-control", rows: 2 %>
          </div>

          <div class="mb-3">
            <%= f.label :category, "Category", class: "form-label" %>
            <%= f.select :category, ["Hotel", "Transport", "Food"], {}, class: "form-select" %>
          </div>

          <div class="row mb-3">
            <div class="col">
              <%= f.label :quantity, "Quantity", class: "form-label" %>
              <%= f.number_field :quantity, class: "form-control", value: 1 %>
            </div>
            <div class="col">
              <%= f.label :unit_price, "Unit Price", class: "form-label" %>
              <%= f.text_field :unit_price, class: "form-control", value: "0.00" %>
            </div>
          </div>

          <%= f.submit "Add Line Item", class: "btn btn-outline-secondary mb-3" %>
        <% end %>

        <h5>Totals</h5>
        <ul class="list-group mb-4">
          <li class="list-group-item">Subtotal: 2460,14</li>
          <li class="list-group-item">VAT 19%: 172,21</li>
          <li class="list-group-item fw-bold">Total EUR: 2632,35</li>
        </ul>
      </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="d-flex justify-content-between mt-4">
      <a href="#" class="btn btn-outline-secondary">← Previous</a>
      <a href="#" class="btn btn-primary">Go To Next Step →</a>
    </div>
  </div>
  <%= f.submit 'sd' %>
<% end %>